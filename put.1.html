<html>
<head>
<script src="https://www.gstatic.com/firebasejs/5.1.0/firebase.js"></script>
</head>
<body>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAsEw6Io6qj5bGXQdGAaYsoOYp9HiahYWs",
    authDomain: "studentgrades-8101e.firebaseapp.com",
    databaseURL: "https://studentgrades-8101e.firebaseio.com",
    projectId: "studentgrades-8101e",
    storageBucket: "studentgrades-8101e.appspot.com",
    messagingSenderId: "168763914375"
  };
  firebase.initializeApp(config);
      
  function putImage(event) {
    var file = event.files[0];
    console.log("Uploading " + file.name);

    var storage = firebase.storage();
    var storageRef = storage.ref();
    var uploadTask = storageRef.child('images/' + file.name).put(file);

    // Listen for state changes, errors, and completion of the upload.
    uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'
        function(snapshot) {
            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded
            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
            console.log('Upload is ' + progress + '% done');
            switch (snapshot.state) {
            case firebase.storage.TaskState.PAUSED: // or 'paused'
                console.log('Upload is paused');
                break;
            case firebase.storage.TaskState.RUNNING: // or 'running'
                console.log('Upload is running');
                break;
            }
        }, function(error) {
            console.error("Upload error: " + error.code);
            // A full list of error codes is available at
            // https://firebase.google.com/docs/storage/web/handle-errors
            switch (error.code) {
                case 'storage/unauthorized':
                    // User doesn't have permission to access the object
                    break;

                case 'storage/canceled':
                    // User canceled the upload
                    break;

                case 'storage/unknown':
                    // Unknown error occurred, inspect error.serverResponse
                    break;
            }
        }, function() {
            // Upload completed successfully, now we can get the download URL
            uploadTask.snapshot.ref.getDownloadURL().then(function(downloadURL) {
                console.log('File available at', downloadURL);
            });
        });
  }

</script>

    <label>Image: </label>
    <input id="mediaCapture" type="file" accept="image/*,capture=camera" onchange="putImage(this)"></input>

</body>
</html>